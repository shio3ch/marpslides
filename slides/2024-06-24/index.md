---
marp: true
theme: "default-custom"
header: "テストコードの導入とその壁"
#footer: "NAME"
backgroundColor: white
#headingDivider: 1
paginate: true
size: 16:9
math: katex
---

# テストコードの導入とその壁

![bg right:33%](./images/2024-06-22-22-00-33-68.png)

<br>

---

<!-- _header: '' -->

# おしながき

## テストコードってどんなもの？

- どんなことが出来るの？実際のコードは？

## テストコードを導入するモチベーションについて考える

- テストコードのメリット／デメリット

## テストコードを導入する

- 結局、ぼくらのコードに対してテストコードを書くためにはどうしていけば良いのさ？
- これからのこと

---

## テストコードとは？

```cs
public static void main()
{
  bakatare.
}
```

---

# どんなことができるの？

---

# 導入イメージ

---

## "テストコードを書くこと"のモチベーションってなんだろう？

- 単体テストが自動化出来れば工数を削減できる？
- テストの実施が難しい機能のテストが簡単になる？
- カバレッジ100%ができる？

---

### テストコードの代表的な効果

- 品質の観点
  - パターンケースの網羅
  - リグレッションテストによるデグレード検知
- テスト効率の観点
  - リグレッションテストはテストコードをrun（実行）するだけ

### それ以外にもこんな副次効果が…！

- テストコードのために、テスト容易性の高い設計を考える文化が出来る
  → 責務の整理された（結合度の低い）クラス設計ができる
- テストケースとして、正常系・異常系のパターンケースを実施する
  → テストコードがそのまま詳細設計レベルのドキュメントになる

---

## テストコードを導入することで起こりうる問題（ネガティブ）

- 当然、プロダクトコードと別にメンテナンスコストが発生する
  - "イケてない"テストコードはメンテ地獄を呼び起こしてしまう
    → とてもよくある話。この後もう少し深掘りします
- やっぱり学習コストはかかる
  - テストコードの書き方（ライブラリ）を習得する必要がある
  - テストコードに対する考え方も身につけた方が良い

**…逆に言うと、これらの問題をクリア出来るなら導入しない選択肢は無い！**

---

## テストを導入するにあたって考えること

- テストしやすいコード＝良いコードというマインドを持つ
- 勘違いされがちだが、コードを流すことがテストコードではない
  - INとOUTのレベルでテストコードであること
  - カバレッジは絶対ではない。カバレッジ100%という数字にどれだけ意味があるのか？
- 実施するテストは絞る

---

# 実際のところ、テストコードを導入していくためにはどうしたらいいんだろう？

---

## あ

---

## テスト実装のための最初の一歩

- ペアプログラミング
- バディプログラミング

---

## さらなるその先へ

|                                               | 名称                     | 内容           |
| --------------------------------------------- | ------------------------ | -------------- |
| ![h:100](./images/2024-06-23-10-45-49-38.png) | レガシーコードからの脱却 | テスト駆動開発 |
